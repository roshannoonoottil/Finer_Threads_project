<%- include ('adminHeader') %>


<section class="content-main">
    <div class="row">
        <div class="col-md-12">
            <h2 class="no-margin-bottom">Report</h2 >
        </div>
    </div>
    <br>
    <hr>
    <div class="row">
        <div class="col-md-8">
            <div class="col-md-4">
                <h5 class="bg-warning-light">Total Revenue</h5>
                <p>₹ <%=totalSales[0].totalAmount%></p>
              </div>
              <br>
              <div class="col-md-4">
                <h5 class="bg-warning-light">Discounted Revenue</h5>
                <p>₹ <%=totalSales[0].totalDiscountAmount%></p>
              </div>
              <br>
              <div class="col-md-4">
                <h5 class="bg-warning-light">Overall Sales Count</h5>
                <p><%=ordersCount%></p>
              </div>
        </div>
        <div class="col-md-4">   
            <h5 class="mb-3">Sales Report</h5>
            <form id="reportForm" action="salesReport" method="post">
                <div class="mb-3">
                <label for="startDate" class="form-label">Start Date:</label>
                <input type="date" class="form-control" id="startDate" name="startDate">
                </div>
                <div class="mb-3">
                <label for="endDate" class="form-label">End Date:</label>
                <input type="date" class="form-control" id="endDate" name="endDate">
                </div>
                <div class="mb-3">
                <label for="pdf" class="form-label">Pdf</label>
                <input type="radio" value="pdf" name="format" id="pdf" checked>
                <label for="excel" class="form-label">Excel</label>
                <input type="radio" value="excel" name="format" id="excel">
                </div>            
                <button class="btn btn-success" type="submit">Download Report</button>
            </form>
            </div>
        </div>
    </div>

    <div class="row">
            <h3>Total Sales</h3>
            <div class="container">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <thead class="thead-dark">
                            <tr>
                                <th>Product No</th>
                                <th>Product</th>
                                <th>Product Name</th>
                                <th>Product price</th>
                                <th>Product Offer price</th>
                                <th>Total Orders</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% Product.forEach(function(item, index) { %>
                                <tr>
                                    <td><%= index + 1 %></td>
                                    <th scope="row"><img src="<%= item.imageUrl %>" alt="Product Image" style="height: 80px;"></th>
                                    <td><%= item._id %></td> 
                                    <td>₹ <%= item.price %></td>
                                    <td>₹ <%= item.Offerprice %></td>    
                                    <td><%= item.totalOrders %></td>
                                </tr>
                            <% }); %>
                        </tbody>
                    </table>
                </div>
            </div>
            
    </div>
</div>




</section>



<%- include ('adminFooter') %>