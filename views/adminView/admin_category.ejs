<%- include ('adminHeader') %>


<section class="content-main">
    <div class="page-content">
        <!-- Page Header-->
        <div class="page-header no-margin-bottom">
          <div class="container-fluid">
            <h2 class="h5 no-margin-bottom">Category</h2>
          </div>
        </div>
  
  
        <div class="container-fluid" style="margin-left: 50px;margin-top:50px">
          <!-- Button trigger modal -->
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"> Add Category</button>
  
          <!-- Modal -->
          <form method="post">
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Enter the Category</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <label for="">Enter </label>
                    <input type="text" placeholder="Enter the name" name="category" class="form-control">
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
  
        <h3 id="categoryFound" style="color: rgb(0, 0, 0);"><%= categoryFound %></h3>
  
        <!-- <p><%#= c.name%></p> -->
  
  
        <div class="container mt-5 p-5">
          <div class="row">
  
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <!-- {{!-- <th scope="col">Product Name</th> --}} -->
                  <th scope="col">Category</th>
                  <!-- {{!-- <th scope="col">Count</th> --}} -->
                  <th>Status</th>
                  <th>Edit</th>
                  <!-- {{!-- <th>Delete</th> --}} -->
                </tr>
              </thead>
            
                <% listData.forEach(function(c, index) { %>
              <tbody>
                <tr>
                  <td><%= c.name %></td>
                  <!-- {{!-- <td>{{this.name}}</td> --}} -->
                  <td>
  
                    <a href="/admin/list/<%=c.name %>">
                      <% if (c.list){ %>
                      <button class="btn btn-success">Un List</button>
                      <% } else { %>
                      <button class="btn btn-danger">List</button>
                      <% } %>
                    </a>
  
                  </td> 
  
                  <td><!-- Button trigger modal -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal2<%= index %>">Edit</button>
  
                    <!-- Modal -->
  
                    <div class="modal fade" id="exampleModal2<%= index %>" tabindex="-1" aria-labelledby="exampleModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog">
                        <form action="/admin/editcat/<%=c.name %>" method="post">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Category</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <label class="form-control-label">Category</label>
                              <input type="text" value="<%= c.name %>" class="form-control" name="name">
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                              <button type="submit" class="btn btn-primary">Save changes</button>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
  
                  <!-- </td>
                  <td><a href="/admin/deletecat/<%#c.name %>" class="btn btn-danger" onclick="return confirm(' Are you sure, You want to delete the product')">Delete</a></td> 
                </tr> -->
              </tbody>
              <% }); %>
              

            </table>
          </div>
        </div>
    <script>
      const value = document.getElementById('categoryFound')
      setTimeout(() => {
        value.style.display = " none"
      }, 5000)
  
    </script>
  
  </section>


<%- include ('adminFooter') %>
